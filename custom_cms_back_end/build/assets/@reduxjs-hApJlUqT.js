var ft=Object.defineProperty;var pt=(e,t,i)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var he=(e,t,i)=>(pt(e,typeof t!="symbol"?t+"":t,i),i);import{i as B,c as Xe,a as ht,b as yt,d as ve,e as Ye}from"./redux-7CUyKLHK.js";import{i as Ae,c as gt,a as Ee,p as ue,e as mt,b as De,d as Ze,o as bt}from"./immer-2oJgyI5v.js";import{c as vt,w as Se,a as et}from"./reselect-vVLqgz1U.js";import{t as St,w as wt}from"./redux-thunk-qyK_zz9Y.js";import{r as q}from"./react-eFnZCgGh.js";import{b as Rt,u as Mt,a as At,c as Et,s as ne}from"./react-redux-rxmrMzQo.js";var Ot=(...e)=>{const t=vt(...e),i=Object.assign((...u)=>{const o=t(...u),p=(S,...A)=>o(Ae(S)?gt(S):S,...A);return Object.assign(p,o),p},{withTypes:()=>i});return i};Ot(Se);var jt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ve:ve.apply(null,arguments)},Tt=e=>e&&typeof e.match=="function";function x(e,t){function i(...u){if(t){let o=t(...u);if(!o)throw new Error(z(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:u[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=u=>Ye(u)&&u.type===e,i}var tt=class re extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,re.prototype)}static get[Symbol.species](){return re}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new re(...t[0].concat(this)):new re(...t.concat(this))}};function Qe(e){return Ee(e)?ue(e,()=>{}):e}function ke(e,t,i){if(e.has(t)){let o=e.get(t);return i.update&&(o=i.update(o,t,e),e.set(t,o)),o}if(!i.insert)throw new Error(z(10));const u=i.insert(t,e);return e.set(t,u),u}function Ct(e){return typeof e=="boolean"}var It=()=>function(t){const{thunk:i=!0,immutableCheck:u=!0,serializableCheck:o=!0,actionCreatorCheck:p=!0}=t??{};let S=new tt;return i&&(Ct(i)?S.push(St):S.push(wt(i.extraArgument))),S},X="RTK_autoBatch",ee=()=>e=>({payload:e,meta:{[X]:!0}}),rt=e=>t=>{setTimeout(t,e)},qt=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rt(10),Dt=(e={type:"raf"})=>t=>(...i)=>{const u=t(...i);let o=!0,p=!1,S=!1;const A=new Set,M=e.type==="tick"?queueMicrotask:e.type==="raf"?qt:e.type==="callback"?e.queueNotification:rt(e.timeout),v=()=>{S=!1,p&&(p=!1,A.forEach(b=>b()))};return Object.assign({},u,{subscribe(b){const h=()=>o&&b(),a=u.subscribe(h);return A.add(b),()=>{a(),A.delete(b)}},dispatch(b){var h;try{return o=!((h=b==null?void 0:b.meta)!=null&&h[X]),p=!o,p&&(S||(S=!0,M(v))),u.dispatch(b)}finally{o=!0}}})},Qt=e=>function(i){const{autoBatch:u=!0}=i??{};let o=new tt(e);return u&&o.push(Dt(typeof u=="object"?u:void 0)),o},kt=!0;function Wr(e){const t=It(),{reducer:i=void 0,middleware:u,devTools:o=!0,preloadedState:p=void 0,enhancers:S=void 0}=e||{};let A;if(typeof i=="function")A=i;else if(B(i))A=Xe(i);else throw new Error(z(1));let M;typeof u=="function"?M=u(t):M=t();let v=ve;o&&(v=jt({trace:!kt,...typeof o=="object"&&o}));const b=ht(...M),h=Qt(b);let a=typeof S=="function"?S(h):h();const s=v(...a);return yt(A,p,s)}function nt(e){const t={},i=[];let u;const o={addCase(p,S){const A=typeof p=="string"?p:p.type;if(!A)throw new Error(z(28));if(A in t)throw new Error(z(29));return t[A]=S,o},addMatcher(p,S){return i.push({matcher:p,reducer:S}),o},addDefaultCase(p){return u=p,o}};return e(o),[t,i,u]}function _t(e){return typeof e=="function"}function Pt(e,t){let[i,u,o]=nt(t),p;if(_t(e))p=()=>Qe(e());else{const A=Qe(e);p=()=>A}function S(A=p(),M){let v=[i[M.type],...u.filter(({matcher:b})=>b(M)).map(({reducer:b})=>b)];return v.filter(b=>!!b).length===0&&(v=[o]),v.reduce((b,h)=>{if(h)if(Ae(b)){const s=h(b,M);return s===void 0?b:s}else{if(Ee(b))return ue(b,a=>h(a,M));{const a=h(b,M);if(a===void 0){if(b===null)return b;throw new Error(z(9))}return a}}return b},A)}return S.getInitialState=p,S}var $t="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Oe=(e=21)=>{let t="",i=e;for(;i--;)t+=$t[Math.random()*64|0];return t},it=(e,t)=>Tt(e)?e.match(t):e(t);function V(...e){return t=>e.some(i=>it(i,t))}function ie(...e){return t=>e.every(i=>it(i,t))}function fe(e,t){if(!e||!e.meta)return!1;const i=typeof e.meta.requestId=="string",u=t.indexOf(e.meta.requestStatus)>-1;return i&&u}function ce(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function je(...e){return e.length===0?t=>fe(t,["pending"]):ce(e)?t=>{const i=e.map(o=>o.pending);return V(...i)(t)}:je()(e[0])}function Z(...e){return e.length===0?t=>fe(t,["rejected"]):ce(e)?t=>{const i=e.map(o=>o.rejected);return V(...i)(t)}:Z()(e[0])}function pe(...e){const t=i=>i&&i.meta&&i.meta.rejectedWithValue;return e.length===0?i=>ie(Z(...e),t)(i):ce(e)?i=>ie(Z(...e),t)(i):pe()(e[0])}function W(...e){return e.length===0?t=>fe(t,["fulfilled"]):ce(e)?t=>{const i=e.map(o=>o.fulfilled);return V(...i)(t)}:W()(e[0])}function we(...e){return e.length===0?t=>fe(t,["pending","fulfilled","rejected"]):ce(e)?t=>{const i=[];for(const o of e)i.push(o.pending,o.rejected,o.fulfilled);return V(...i)(t)}:we()(e[0])}var Ft=["name","message","stack","code"],ye=class{constructor(e,t){he(this,"_type");this.payload=e,this.meta=t}},_e=class{constructor(e,t){he(this,"_type");this.payload=e,this.meta=t}},xt=e=>{if(typeof e=="object"&&e!==null){const t={};for(const i of Ft)typeof e[i]=="string"&&(t[i]=e[i]);return t}return{message:String(e)}},Pe=(()=>{function e(t,i,u){const o=x(t+"/fulfilled",(M,v,b,h)=>({payload:M,meta:{...h||{},arg:b,requestId:v,requestStatus:"fulfilled"}})),p=x(t+"/pending",(M,v,b)=>({payload:void 0,meta:{...b||{},arg:v,requestId:M,requestStatus:"pending"}})),S=x(t+"/rejected",(M,v,b,h,a)=>({payload:h,error:(u&&u.serializeError||xt)(M||"Rejected"),meta:{...a||{},arg:b,requestId:v,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(M==null?void 0:M.name)==="AbortError",condition:(M==null?void 0:M.name)==="ConditionError"}}));function A(M){return(v,b,h)=>{const a=u!=null&&u.idGenerator?u.idGenerator(M):Oe(),s=new AbortController;let f,w;function y(l){w=l,s.abort()}const R=async function(){var r,c;let l;try{let g=(r=u==null?void 0:u.condition)==null?void 0:r.call(u,M,{getState:b,extra:h});if(Lt(g)&&(g=await g),g===!1||s.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const m=new Promise((d,O)=>{f=()=>{O({name:"AbortError",message:w||"Aborted"})},s.signal.addEventListener("abort",f)});v(p(a,M,(c=u==null?void 0:u.getPendingMeta)==null?void 0:c.call(u,{requestId:a,arg:M},{getState:b,extra:h}))),l=await Promise.race([m,Promise.resolve(i(M,{dispatch:v,getState:b,extra:h,requestId:a,signal:s.signal,abort:y,rejectWithValue:(d,O)=>new ye(d,O),fulfillWithValue:(d,O)=>new _e(d,O)})).then(d=>{if(d instanceof ye)throw d;return d instanceof _e?o(d.payload,a,M,d.meta):o(d,a,M)})])}catch(g){l=g instanceof ye?S(null,a,M,g.payload,g.meta):S(g,a,M)}finally{f&&s.signal.removeEventListener("abort",f)}return u&&!u.dispatchConditionRejection&&S.match(l)&&l.meta.condition||v(l),l}();return Object.assign(R,{abort:y,requestId:a,arg:M,unwrap(){return R.then(zt)}})}}return Object.assign(A,{pending:p,rejected:S,fulfilled:o,settled:V(S,o),typePrefix:t})}return e.withTypes=()=>e,e})();function zt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Lt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Nt=Symbol.for("rtk-slice-createasyncthunk");function Ut(e,t){return`${e}/${t}`}function Bt({creators:e}={}){var i;const t=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[Nt];return function(o){const{name:p,reducerPath:S=p}=o;if(!p)throw new Error(z(11));typeof process<"u";const A=(typeof o.reducers=="function"?o.reducers(Wt()):o.reducers)||{},M=Object.keys(A),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},b={addCase(n,r){const c=typeof n=="string"?n:n.type;if(!c)throw new Error(z(12));if(c in v.sliceCaseReducersByType)throw new Error(z(13));return v.sliceCaseReducersByType[c]=r,b},addMatcher(n,r){return v.sliceMatchers.push({matcher:n,reducer:r}),b},exposeAction(n,r){return v.actionCreators[n]=r,b},exposeCaseReducer(n,r){return v.sliceCaseReducersByName[n]=r,b}};M.forEach(n=>{const r=A[n],c={reducerName:n,type:Ut(p,n),createNotation:typeof o.reducers=="function"};Kt(r)?Gt(c,r,b,t):Ht(c,r,b)});function h(){const[n={},r=[],c=void 0]=typeof o.extraReducers=="function"?nt(o.extraReducers):[o.extraReducers],g={...n,...v.sliceCaseReducersByType};return Pt(o.initialState,m=>{for(let d in g)m.addCase(d,g[d]);for(let d of v.sliceMatchers)m.addMatcher(d.matcher,d.reducer);for(let d of r)m.addMatcher(d.matcher,d.reducer);c&&m.addDefaultCase(c)})}const a=n=>n,s=new Map;let f;function w(n,r){return f||(f=h()),f(n,r)}function y(){return f||(f=h()),f.getInitialState()}function R(n,r=!1){function c(m){let d=m[n];return typeof d>"u"&&r&&(d=y()),d}function g(m=a){const d=ke(s,r,{insert:()=>new WeakMap});return ke(d,m,{insert:()=>{const O={};for(const[E,j]of Object.entries(o.selectors??{}))O[E]=Vt(j,m,y,r);return O}})}return{reducerPath:n,getSelectors:g,get selectors(){return g(c)},selectSlice:c}}const l={name:p,reducer:w,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:y,...R(S),injectInto(n,{reducerPath:r,...c}={}){const g=r??S;return n.inject({reducerPath:g,reducer:w},c),{...l,...R(g,!0)}}};return l}}function Vt(e,t,i,u){function o(p,...S){let A=t(p);return typeof A>"u"&&u&&(A=i()),e(A,...S)}return o.unwrapped=e,o}var K=Bt();function Wt(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function Ht({type:e,reducerName:t,createNotation:i},u,o){let p,S;if("reducer"in u){if(i&&!Jt(u))throw new Error(z(17));p=u.reducer,S=u.prepare}else p=u;o.addCase(e,p).exposeCaseReducer(t,p).exposeAction(t,S?x(e,S):x(e))}function Kt(e){return e._reducerDefinitionType==="asyncThunk"}function Jt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Gt({type:e,reducerName:t},i,u,o){if(!o)throw new Error(z(18));const{payloadCreator:p,fulfilled:S,pending:A,rejected:M,settled:v,options:b}=i,h=o(e,p,b);u.exposeAction(t,h),S&&u.addCase(h.fulfilled,S),A&&u.addCase(h.pending,A),M&&u.addCase(h.rejected,M),v&&u.addMatcher(h.settled,v),u.exposeCaseReducer(t,{fulfilled:S||ae,pending:A||ae,rejected:M||ae,settled:v||ae})}function ae(){}var Xt=(e,t)=>{if(typeof e!="function")throw new Error(z(32))},Te="listenerMiddleware",Yt=e=>{let{type:t,actionCreator:i,matcher:u,predicate:o,effect:p}=e;if(t)o=x(t).match;else if(i)t=i.type,o=i.match;else if(u)o=u;else if(!o)throw new Error(z(21));return Xt(p),{predicate:o,type:t,effect:p}},Zt=Object.assign(e=>{const{type:t,predicate:i,effect:u}=Yt(e);return{id:Oe(),effect:u,type:t,predicate:i,pending:new Set,unsubscribe:()=>{throw new Error(z(22))}}},{withTypes:()=>Zt}),er=Object.assign(x(`${Te}/add`),{withTypes:()=>er});x(`${Te}/removeAll`);var tr=Object.assign(x(`${Te}/remove`),{withTypes:()=>tr});function z(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var st=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(st||{});function rr(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}function nr(e){return new RegExp("(^|:)//").test(e)}var ir=e=>e.replace(/\/$/,""),sr=e=>e.replace(/^\//,"");function or(e,t){if(!e)return t;if(!t)return e;if(nr(t))return t;const i=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=ir(e),t=sr(t),`${e}${i}${t}`}var $e=e=>[].concat(...e);function ur(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function cr(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var Fe=B;function ot(e,t){if(e===t||!(Fe(e)&&Fe(t)||Array.isArray(e)&&Array.isArray(t)))return t;const i=Object.keys(t),u=Object.keys(e);let o=i.length===u.length;const p=Array.isArray(t)?[]:{};for(const S of i)p[S]=ot(e[S],t[S]),o&&(o=e[S]===p[S]);return o?e:p}var xe=(...e)=>fetch(...e),ar=e=>e.status>=200&&e.status<=299,lr=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function ze(e){if(!B(e))return e;const t={...e};for(const[i,u]of Object.entries(t))u===void 0&&delete t[i];return t}function Hr({baseUrl:e,prepareHeaders:t=h=>h,fetchFn:i=xe,paramsSerializer:u,isJsonContentType:o=lr,jsonContentType:p="application/json",jsonReplacer:S,timeout:A,responseHandler:M,validateStatus:v,...b}={}){return typeof fetch>"u"&&i===xe&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(a,s)=>{const{signal:f,getState:w,extra:y,endpoint:R,forced:l,type:n}=s;let r,{url:c,headers:g=new Headers(b.headers),params:m=void 0,responseHandler:d=M??"json",validateStatus:O=v??ar,timeout:E=A,...j}=typeof a=="string"?{url:a}:a,T={...b,signal:f,...j};g=new Headers(ze(g)),T.headers=await t(g,{getState:w,extra:y,endpoint:R,forced:l,type:n})||g;const C=k=>typeof k=="object"&&(B(k)||Array.isArray(k)||typeof k.toJSON=="function");if(!T.headers.has("content-type")&&C(T.body)&&T.headers.set("content-type",p),C(T.body)&&o(T.headers)&&(T.body=JSON.stringify(T.body,S)),m){const k=~c.indexOf("?")?"&":"?",N=u?u(m):new URLSearchParams(ze(m));c+=k+N}c=or(e,c);const I=new Request(c,T);r={request:new Request(c,T)};let P,$=!1,_=E&&setTimeout(()=>{$=!0,s.abort()},E);try{P=await i(I)}catch(k){return{error:{status:$?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(k)},meta:r}}finally{_&&clearTimeout(_)}const F=P.clone();r.response=F;let D,L="";try{let k;if(await Promise.all([h(P,d).then(N=>D=N,N=>k=N),F.text().then(N=>L=N,()=>{})]),k)throw k}catch(k){return{error:{status:"PARSING_ERROR",originalStatus:P.status,data:L,error:String(k)},meta:r}}return O(P,D)?{data:D,meta:r}:{error:{status:P.status,data:D},meta:r}};async function h(a,s){if(typeof s=="function")return s(a);if(s==="content-type"&&(s=o(a.headers)?"json":"text"),s==="json"){const f=await a.text();return f.length?JSON.parse(f):null}return a.text()}}var Le=class{constructor(e,t=void 0){this.value=e,this.meta=t}},Ce=x("__rtkq/focused"),ut=x("__rtkq/unfocused"),Ie=x("__rtkq/online"),ct=x("__rtkq/offline");function at(e){return e.type==="query"}function dr(e){return e.type==="mutation"}function qe(e,t,i,u,o,p){return fr(e)?e(t,i,u,o).map(Re).map(p):Array.isArray(e)?e.map(Re).map(p):[]}function fr(e){return typeof e=="function"}function Re(e){return typeof e=="string"?{type:e}:e}function Ne(e){return e!=null}function Y(e){let t=0;for(const i in e)t++;return t}function pr(e,t){return e.catch(t)}var se=Symbol("forceQueryFn"),Me=e=>typeof e[se]=="function";function hr({serializeQueryArgs:e,queryThunk:t,mutationThunk:i,api:u,context:o}){const p=new Map,S=new Map,{unsubscribeQueryResult:A,removeMutationResult:M,updateSubscriptionOptions:v}=u.internalActions;return{buildInitiateQuery:f,buildInitiateMutation:w,getRunningQueryThunk:b,getRunningMutationThunk:h,getRunningQueriesThunk:a,getRunningMutationsThunk:s};function b(y,R){return l=>{var c;const n=o.endpointDefinitions[y],r=e({queryArgs:R,endpointDefinition:n,endpointName:y});return(c=p.get(l))==null?void 0:c[r]}}function h(y,R){return l=>{var n;return(n=S.get(l))==null?void 0:n[R]}}function a(){return y=>Object.values(p.get(y)||{}).filter(Ne)}function s(){return y=>Object.values(S.get(y)||{}).filter(Ne)}function f(y,R){const l=(n,{subscribe:r=!0,forceRefetch:c,subscriptionOptions:g,[se]:m}={})=>(d,O)=>{var L;const E=e({queryArgs:n,endpointDefinition:R,endpointName:y}),j=t({type:"query",subscribe:r,forceRefetch:c,subscriptionOptions:g,endpointName:y,originalArgs:n,queryCacheKey:E,[se]:m}),T=u.endpoints[y].select(n),C=d(j),I=T(O()),{requestId:Q,abort:P}=C,$=I.requestId!==Q,_=(L=p.get(d))==null?void 0:L[E],F=()=>T(O()),D=Object.assign(m?C.then(F):$&&!_?Promise.resolve(I):Promise.all([_,C]).then(F),{arg:n,requestId:Q,subscriptionOptions:g,queryCacheKey:E,abort:P,async unwrap(){const k=await D;if(k.isError)throw k.error;return k.data},refetch:()=>d(l(n,{subscribe:!1,forceRefetch:!0})),unsubscribe(){r&&d(A({queryCacheKey:E,requestId:Q}))},updateSubscriptionOptions(k){D.subscriptionOptions=k,d(v({endpointName:y,requestId:Q,queryCacheKey:E,options:k}))}});if(!_&&!$&&!m){const k=p.get(d)||{};k[E]=D,p.set(d,k),D.then(()=>{delete k[E],Y(k)||p.delete(d)})}return D};return l}function w(y){return(R,{track:l=!0,fixedCacheKey:n}={})=>(r,c)=>{const g=i({type:"mutation",endpointName:y,originalArgs:R,track:l,fixedCacheKey:n}),m=r(g),{requestId:d,abort:O,unwrap:E}=m,j=pr(m.unwrap().then(Q=>({data:Q})),Q=>({error:Q})),T=()=>{r(M({requestId:d,fixedCacheKey:n}))},C=Object.assign(j,{arg:m.arg,requestId:d,abort:O,unwrap:E,reset:T}),I=S.get(r)||{};return S.set(r,I),I[d]=C,C.then(()=>{delete I[d],Y(I)||S.delete(r)}),n&&(I[n]=C,C.then(()=>{I[n]===C&&(delete I[n],Y(I)||S.delete(r))})),C}}}function Ue(e){return e}function yr({reducerPath:e,baseQuery:t,context:{endpointDefinitions:i},serializeQueryArgs:u,api:o,assertTagType:p}){const S=(l,n,r,c)=>(g,m)=>{const d=i[l],O=u({queryArgs:n,endpointDefinition:d,endpointName:l});if(g(o.internalActions.queryResultPatched({queryCacheKey:O,patches:r})),!c)return;const E=o.endpoints[l].select(n)(m()),j=qe(d.providesTags,E.data,void 0,n,{},p);g(o.internalActions.updateProvidedBy({queryCacheKey:O,providedTags:j}))},A=(l,n,r,c=!0)=>(g,m)=>{const O=o.endpoints[l].select(n)(m());let E={patches:[],inversePatches:[],undo:()=>g(o.util.patchQueryData(l,n,E.inversePatches,c))};if(O.status==="uninitialized")return E;let j;if("data"in O)if(Ee(O.data)){const[T,C,I]=Ze(O.data,r);E.patches.push(...C),E.inversePatches.push(...I),j=T}else j=r(O.data),E.patches.push({op:"replace",path:[],value:j}),E.inversePatches.push({op:"replace",path:[],value:O.data});return g(o.util.patchQueryData(l,n,E.patches,c)),E},M=(l,n,r)=>c=>c(o.endpoints[l].initiate(n,{subscribe:!1,forceRefetch:!0,[se]:()=>({data:r})})),v=async(l,{signal:n,abort:r,rejectWithValue:c,fulfillWithValue:g,dispatch:m,getState:d,extra:O})=>{const E=i[l.endpointName];try{let j=Ue,T;const C={signal:n,abort:r,dispatch:m,getState:d,extra:O,endpoint:l.endpointName,type:l.type,forced:l.type==="query"?b(l,d()):void 0},I=l.type==="query"?l[se]:void 0;if(I?T=I():E.query?(T=await t(E.query(l.originalArgs),C,E.extraOptions),E.transformResponse&&(j=E.transformResponse)):T=await E.queryFn(l.originalArgs,C,E.extraOptions,Q=>t(Q,C,E.extraOptions)),typeof process<"u",T.error)throw new Le(T.error,T.meta);return g(await j(T.data,T.meta,l.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:T.meta,[X]:!0})}catch(j){let T=j;if(T instanceof Le){let C=Ue;E.query&&E.transformErrorResponse&&(C=E.transformErrorResponse);try{return c(await C(T.value,T.meta,l.originalArgs),{baseQueryMeta:T.meta,[X]:!0})}catch(I){T=I}}throw typeof process<"u",console.error(T),T}};function b(l,n){var d,O,E;const r=(O=(d=n[e])==null?void 0:d.queries)==null?void 0:O[l.queryCacheKey],c=(E=n[e])==null?void 0:E.config.refetchOnMountOrArgChange,g=r==null?void 0:r.fulfilledTimeStamp,m=l.forceRefetch??(l.subscribe&&c);return m?m===!0||(Number(new Date)-Number(g))/1e3>=m:!1}const h=Pe(`${e}/executeQuery`,v,{getPendingMeta(){return{startedTimeStamp:Date.now(),[X]:!0}},condition(l,{getState:n}){var E,j,T;const r=n(),c=(j=(E=r[e])==null?void 0:E.queries)==null?void 0:j[l.queryCacheKey],g=c==null?void 0:c.fulfilledTimeStamp,m=l.originalArgs,d=c==null?void 0:c.originalArgs,O=i[l.endpointName];return Me(l)?!0:(c==null?void 0:c.status)==="pending"?!1:b(l,r)||at(O)&&((T=O==null?void 0:O.forceRefetch)!=null&&T.call(O,{currentArg:m,previousArg:d,endpointState:c,state:r}))?!0:!g},dispatchConditionRejection:!0}),a=Pe(`${e}/executeMutation`,v,{getPendingMeta(){return{startedTimeStamp:Date.now(),[X]:!0}}}),s=l=>"force"in l,f=l=>"ifOlderThan"in l,w=(l,n,r)=>(c,g)=>{const m=s(r)&&r.force,d=f(r)&&r.ifOlderThan,O=(j=!0)=>o.endpoints[l].initiate(n,{forceRefetch:j}),E=o.endpoints[l].select(n)(g());if(m)c(O());else if(d){const j=E==null?void 0:E.fulfilledTimeStamp;if(!j){c(O());return}(Number(new Date)-Number(new Date(j)))/1e3>=d&&c(O())}else c(O(!1))};function y(l){return n=>{var r,c;return((c=(r=n==null?void 0:n.meta)==null?void 0:r.arg)==null?void 0:c.endpointName)===l}}function R(l,n){return{matchPending:ie(je(l),y(n)),matchFulfilled:ie(W(l),y(n)),matchRejected:ie(Z(l),y(n))}}return{queryThunk:h,mutationThunk:a,prefetch:w,updateQueryData:A,upsertQueryData:M,patchQueryData:S,buildMatchThunkActions:R}}function lt(e,t,i,u){return qe(i[e.meta.arg.endpointName][t],W(e)?e.payload:void 0,pe(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,u)}function le(e,t,i){const u=e[t];u&&i(u)}function oe(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Be(e,t,i){const u=e[oe(t)];u&&i(u)}var te={};function gr({reducerPath:e,queryThunk:t,mutationThunk:i,context:{endpointDefinitions:u,apiUid:o,extractRehydrationInfo:p,hasRehydrationInfo:S},assertTagType:A,config:M}){const v=x(`${e}/resetApiState`),b=K({name:`${e}/queries`,initialState:te,reducers:{removeQueryResult:{reducer(n,{payload:{queryCacheKey:r}}){delete n[r]},prepare:ee()},queryResultPatched:{reducer(n,{payload:{queryCacheKey:r,patches:c}}){le(n,r,g=>{g.data=De(g.data,c.concat())})},prepare:ee()}},extraReducers(n){n.addCase(t.pending,(r,{meta:c,meta:{arg:g}})=>{var d;const m=Me(g);r[d=g.queryCacheKey]??(r[d]={status:"uninitialized",endpointName:g.endpointName}),le(r,g.queryCacheKey,O=>{O.status="pending",O.requestId=m&&O.requestId?O.requestId:c.requestId,g.originalArgs!==void 0&&(O.originalArgs=g.originalArgs),O.startedTimeStamp=c.startedTimeStamp})}).addCase(t.fulfilled,(r,{meta:c,payload:g})=>{le(r,c.arg.queryCacheKey,m=>{if(m.requestId!==c.requestId&&!Me(c.arg))return;const{merge:d}=u[c.arg.endpointName];if(m.status="fulfilled",d)if(m.data!==void 0){const{fulfilledTimeStamp:O,arg:E,baseQueryMeta:j,requestId:T}=c;let C=ue(m.data,I=>d(I,g,{arg:E.originalArgs,baseQueryMeta:j,fulfilledTimeStamp:O,requestId:T}));m.data=C}else m.data=g;else m.data=u[c.arg.endpointName].structuralSharing??!0?ot(Ae(m.data)?bt(m.data):m.data,g):g;delete m.error,m.fulfilledTimeStamp=c.fulfilledTimeStamp})}).addCase(t.rejected,(r,{meta:{condition:c,arg:g,requestId:m},error:d,payload:O})=>{le(r,g.queryCacheKey,E=>{if(!c){if(E.requestId!==m)return;E.status="rejected",E.error=O??d}})}).addMatcher(S,(r,c)=>{const{queries:g}=p(c);for(const[m,d]of Object.entries(g))((d==null?void 0:d.status)==="fulfilled"||(d==null?void 0:d.status)==="rejected")&&(r[m]=d)})}}),h=K({name:`${e}/mutations`,initialState:te,reducers:{removeMutationResult:{reducer(n,{payload:r}){const c=oe(r);c in n&&delete n[c]},prepare:ee()}},extraReducers(n){n.addCase(i.pending,(r,{meta:c,meta:{requestId:g,arg:m,startedTimeStamp:d}})=>{m.track&&(r[oe(c)]={requestId:g,status:"pending",endpointName:m.endpointName,startedTimeStamp:d})}).addCase(i.fulfilled,(r,{payload:c,meta:g})=>{g.arg.track&&Be(r,g,m=>{m.requestId===g.requestId&&(m.status="fulfilled",m.data=c,m.fulfilledTimeStamp=g.fulfilledTimeStamp)})}).addCase(i.rejected,(r,{payload:c,error:g,meta:m})=>{m.arg.track&&Be(r,m,d=>{d.requestId===m.requestId&&(d.status="rejected",d.error=c??g)})}).addMatcher(S,(r,c)=>{const{mutations:g}=p(c);for(const[m,d]of Object.entries(g))((d==null?void 0:d.status)==="fulfilled"||(d==null?void 0:d.status)==="rejected")&&m!==(d==null?void 0:d.requestId)&&(r[m]=d)})}}),a=K({name:`${e}/invalidation`,initialState:te,reducers:{updateProvidedBy:{reducer(n,r){var m,d;const{queryCacheKey:c,providedTags:g}=r.payload;for(const O of Object.values(n))for(const E of Object.values(O)){const j=E.indexOf(c);j!==-1&&E.splice(j,1)}for(const{type:O,id:E}of g){const j=(m=n[O]??(n[O]={}))[d=E||"__internal_without_id"]??(m[d]=[]);j.includes(c)||j.push(c)}},prepare:ee()}},extraReducers(n){n.addCase(b.actions.removeQueryResult,(r,{payload:{queryCacheKey:c}})=>{for(const g of Object.values(r))for(const m of Object.values(g)){const d=m.indexOf(c);d!==-1&&m.splice(d,1)}}).addMatcher(S,(r,c)=>{var m,d;const{provided:g}=p(c);for(const[O,E]of Object.entries(g))for(const[j,T]of Object.entries(E)){const C=(m=r[O]??(r[O]={}))[d=j||"__internal_without_id"]??(m[d]=[]);for(const I of T)C.includes(I)||C.push(I)}}).addMatcher(V(W(t),pe(t)),(r,c)=>{const g=lt(c,"providesTags",u,A),{queryCacheKey:m}=c.meta.arg;a.caseReducers.updateProvidedBy(r,a.actions.updateProvidedBy({queryCacheKey:m,providedTags:g}))})}}),s=K({name:`${e}/subscriptions`,initialState:te,reducers:{updateSubscriptionOptions(n,r){},unsubscribeQueryResult(n,r){},internal_getRTKQSubscriptions(){}}}),f=K({name:`${e}/internalSubscriptions`,initialState:te,reducers:{subscriptionsUpdated:{reducer(n,r){return De(n,r.payload)},prepare:ee()}}}),w=K({name:`${e}/config`,initialState:{online:ur(),focused:cr(),middlewareRegistered:!1,...M},reducers:{middlewareRegistered(n,{payload:r}){n.middlewareRegistered=n.middlewareRegistered==="conflict"||o!==r?"conflict":!0}},extraReducers:n=>{n.addCase(Ie,r=>{r.online=!0}).addCase(ct,r=>{r.online=!1}).addCase(Ce,r=>{r.focused=!0}).addCase(ut,r=>{r.focused=!1}).addMatcher(S,r=>({...r}))}}),y=Xe({queries:b.reducer,mutations:h.reducer,provided:a.reducer,subscriptions:f.reducer,config:w.reducer}),R=(n,r)=>y(v.match(r)?void 0:n,r),l={...w.actions,...b.actions,...s.actions,...f.actions,...h.actions,...a.actions,resetApiState:v};return{reducer:R,actions:l}}var H=Symbol.for("RTKQ/skipToken"),dt={status:"uninitialized"},Ve=ue(dt,()=>{}),We=ue(dt,()=>{});function mr({serializeQueryArgs:e,reducerPath:t,createSelector:i}){const u=h=>Ve,o=h=>We;return{buildQuerySelector:A,buildMutationSelector:M,selectInvalidatedBy:v,selectCachedArgsForQuery:b};function p(h){return{...h,...rr(h.status)}}function S(h){return h[t]}function A(h,a){return s=>{const f=e({queryArgs:s,endpointDefinition:a,endpointName:h});return i(s===H?u:R=>{var l,n;return((n=(l=S(R))==null?void 0:l.queries)==null?void 0:n[f])??Ve},p)}}function M(){return h=>{let a;return typeof h=="object"?a=oe(h)??H:a=h,i(a===H?o:w=>{var y,R;return((R=(y=S(w))==null?void 0:y.mutations)==null?void 0:R[a])??We},p)}}function v(h,a){const s=h[t],f=new Set;for(const w of a.map(Re)){const y=s.provided[w.type];if(!y)continue;let R=(w.id!==void 0?y[w.id]:$e(Object.values(y)))??[];for(const l of R)f.add(l)}return $e(Array.from(f.values()).map(w=>{const y=s.queries[w];return y?[{queryCacheKey:w,endpointName:y.endpointName,originalArgs:y.originalArgs}]:[]}))}function b(h,a){return Object.values(h[t].queries).filter(s=>(s==null?void 0:s.endpointName)===a&&s.status!=="uninitialized").map(s=>s.originalArgs)}}var J=WeakMap?new WeakMap:void 0,He=({endpointName:e,queryArgs:t})=>{let i="";const u=J==null?void 0:J.get(t);if(typeof u=="string")i=u;else{const o=JSON.stringify(t,(p,S)=>B(S)?Object.keys(S).sort().reduce((A,M)=>(A[M]=S[M],A),{}):S);B(t)&&(J==null||J.set(t,o)),i=o}return`${e}(${i})`};function br(...e){return function(i){const u=Se(v=>{var b;return(b=i.extractRehydrationInfo)==null?void 0:b.call(i,v,{reducerPath:i.reducerPath??"api"})}),o={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...i,extractRehydrationInfo:u,serializeQueryArgs(v){let b=He;if("serializeQueryArgs"in v.endpointDefinition){const h=v.endpointDefinition.serializeQueryArgs;b=a=>{const s=h(a);return typeof s=="string"?s:He({...a,queryArgs:s})}}else i.serializeQueryArgs&&(b=i.serializeQueryArgs);return b(v)},tagTypes:[...i.tagTypes||[]]},p={endpointDefinitions:{},batch(v){v()},apiUid:Oe(),extractRehydrationInfo:u,hasRehydrationInfo:Se(v=>u(v)!=null)},S={injectEndpoints:M,enhanceEndpoints({addTagTypes:v,endpoints:b}){if(v)for(const h of v)o.tagTypes.includes(h)||o.tagTypes.push(h);if(b)for(const[h,a]of Object.entries(b))typeof a=="function"?a(p.endpointDefinitions[h]):Object.assign(p.endpointDefinitions[h]||{},a);return S}},A=e.map(v=>v.init(S,o,p));function M(v){const b=v.endpoints({query:h=>({...h,type:"query"}),mutation:h=>({...h,type:"mutation"})});for(const[h,a]of Object.entries(b)){if(!v.overrideExisting&&h in p.endpointDefinitions){typeof process<"u";continue}p.endpointDefinitions[h]=a;for(const s of A)s.injectEndpoint(h,a)}return S}return S.injectEndpoints({endpoints:i.endpoints})}}function vr(e){for(let t in e)return!1;return!0}var Sr=2147483647/1e3-1,wr=({reducerPath:e,api:t,context:i,internalState:u})=>{const{removeQueryResult:o,unsubscribeQueryResult:p}=t.internalActions;function S(b){const h=u.currentSubscriptions[b];return!!h&&!vr(h)}const A={},M=(b,h,a)=>{var s;if(p.match(b)){const f=h.getState()[e],{queryCacheKey:w}=b.payload;v(w,(s=f.queries[w])==null?void 0:s.endpointName,h,f.config)}if(t.util.resetApiState.match(b))for(const[f,w]of Object.entries(A))w&&clearTimeout(w),delete A[f];if(i.hasRehydrationInfo(b)){const f=h.getState()[e],{queries:w}=i.extractRehydrationInfo(b);for(const[y,R]of Object.entries(w))v(y,R==null?void 0:R.endpointName,h,f.config)}};function v(b,h,a,s){const f=i.endpointDefinitions[h],w=(f==null?void 0:f.keepUnusedDataFor)??s.keepUnusedDataFor;if(w===1/0)return;const y=Math.max(0,Math.min(w,Sr));if(!S(b)){const R=A[b];R&&clearTimeout(R),A[b]=setTimeout(()=>{S(b)||a.dispatch(o({queryCacheKey:b})),delete A[b]},y*1e3)}}return M},Rr=({reducerPath:e,context:t,context:{endpointDefinitions:i},mutationThunk:u,queryThunk:o,api:p,assertTagType:S,refetchQuery:A,internalState:M})=>{const{removeQueryResult:v}=p.internalActions,b=V(W(u),pe(u)),h=V(W(u,o),Z(u,o));let a=[];const s=(y,R)=>{b(y)?w(lt(y,"invalidatesTags",i,S),R):h(y)?w([],R):p.util.invalidateTags.match(y)&&w(qe(y.payload,void 0,void 0,void 0,void 0,S),R)};function f(y){var R,l;for(const n in y.queries)if(((R=y.queries[n])==null?void 0:R.status)==="pending")return!0;for(const n in y.mutations)if(((l=y.mutations[n])==null?void 0:l.status)==="pending")return!0;return!1}function w(y,R){const l=R.getState(),n=l[e];if(a.push(...y),n.config.invalidationBehavior==="delayed"&&f(n))return;const r=a;if(a=[],r.length===0)return;const c=p.util.selectInvalidatedBy(l,r);t.batch(()=>{const g=Array.from(c.values());for(const{queryCacheKey:m}of g){const d=n.queries[m],O=M.currentSubscriptions[m]??{};d&&(Y(O)===0?R.dispatch(v({queryCacheKey:m})):d.status!=="uninitialized"&&R.dispatch(A(d,m)))}})}return s},Mr=({reducerPath:e,queryThunk:t,api:i,refetchQuery:u,internalState:o})=>{const p={},S=(a,s)=>{(i.internalActions.updateSubscriptionOptions.match(a)||i.internalActions.unsubscribeQueryResult.match(a))&&M(a.payload,s),(t.pending.match(a)||t.rejected.match(a)&&a.meta.condition)&&M(a.meta.arg,s),(t.fulfilled.match(a)||t.rejected.match(a)&&!a.meta.condition)&&A(a.meta.arg,s),i.util.resetApiState.match(a)&&b()};function A({queryCacheKey:a},s){const f=s.getState()[e],w=f.queries[a],y=o.currentSubscriptions[a];if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:R,skipPollingIfUnfocused:l}=h(y);if(!Number.isFinite(R))return;const n=p[a];n!=null&&n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0);const r=Date.now()+R;p[a]={nextPollTimestamp:r,pollingInterval:R,timeout:setTimeout(()=>{(f.config.focused||!l)&&s.dispatch(u(w,a)),A({queryCacheKey:a},s)},R)}}function M({queryCacheKey:a},s){const w=s.getState()[e].queries[a],y=o.currentSubscriptions[a];if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:R}=h(y);if(!Number.isFinite(R)){v(a);return}const l=p[a],n=Date.now()+R;(!l||n<l.nextPollTimestamp)&&A({queryCacheKey:a},s)}function v(a){const s=p[a];s!=null&&s.timeout&&clearTimeout(s.timeout),delete p[a]}function b(){for(const a of Object.keys(p))v(a)}function h(a={}){let s=!1,f=Number.POSITIVE_INFINITY;for(let w in a)a[w].pollingInterval&&(f=Math.min(a[w].pollingInterval,f),s=a[w].skipPollingIfUnfocused||s);return{lowestPollingInterval:f,skipPollingIfUnfocused:s}}return S},Ar=({reducerPath:e,context:t,api:i,refetchQuery:u,internalState:o})=>{const{removeQueryResult:p}=i.internalActions,S=(M,v)=>{Ce.match(M)&&A(v,"refetchOnFocus"),Ie.match(M)&&A(v,"refetchOnReconnect")};function A(M,v){const b=M.getState()[e],h=b.queries,a=o.currentSubscriptions;t.batch(()=>{for(const s of Object.keys(a)){const f=h[s],w=a[s];if(!w||!f)continue;(Object.values(w).some(R=>R[v]===!0)||Object.values(w).every(R=>R[v]===void 0)&&b.config[v])&&(Y(w)===0?M.dispatch(p({queryCacheKey:s})):f.status!=="uninitialized"&&M.dispatch(u(f,s)))}})}return S},Ke=new Error("Promise never resolved before cacheEntryRemoved."),Er=({api:e,reducerPath:t,context:i,queryThunk:u,mutationThunk:o,internalState:p})=>{const S=we(u),A=we(o),M=W(u,o),v={},b=(s,f,w)=>{const y=h(s);if(u.pending.match(s)){const R=w[t].queries[y],l=f.getState()[t].queries[y];!R&&l&&a(s.meta.arg.endpointName,s.meta.arg.originalArgs,y,f,s.meta.requestId)}else if(o.pending.match(s))f.getState()[t].mutations[y]&&a(s.meta.arg.endpointName,s.meta.arg.originalArgs,y,f,s.meta.requestId);else if(M(s)){const R=v[y];R!=null&&R.valueResolved&&(R.valueResolved({data:s.payload,meta:s.meta.baseQueryMeta}),delete R.valueResolved)}else if(e.internalActions.removeQueryResult.match(s)||e.internalActions.removeMutationResult.match(s)){const R=v[y];R&&(delete v[y],R.cacheEntryRemoved())}else if(e.util.resetApiState.match(s))for(const[R,l]of Object.entries(v))delete v[R],l.cacheEntryRemoved()};function h(s){return S(s)?s.meta.arg.queryCacheKey:A(s)?s.meta.arg.fixedCacheKey??s.meta.requestId:e.internalActions.removeQueryResult.match(s)?s.payload.queryCacheKey:e.internalActions.removeMutationResult.match(s)?oe(s.payload):""}function a(s,f,w,y,R){const l=i.endpointDefinitions[s],n=l==null?void 0:l.onCacheEntryAdded;if(!n)return;let r={};const c=new Promise(j=>{r.cacheEntryRemoved=j}),g=Promise.race([new Promise(j=>{r.valueResolved=j}),c.then(()=>{throw Ke})]);g.catch(()=>{}),v[w]=r;const m=e.endpoints[s].select(l.type==="query"?f:w),d=y.dispatch((j,T,C)=>C),O={...y,getCacheEntry:()=>m(y.getState()),requestId:R,extra:d,updateCachedData:l.type==="query"?j=>y.dispatch(e.util.updateQueryData(s,f,j)):void 0,cacheDataLoaded:g,cacheEntryRemoved:c},E=n(f,O);Promise.resolve(E).catch(j=>{if(j!==Ke)throw j})}return b},Or=({api:e,context:t,queryThunk:i,mutationThunk:u})=>{const o=je(i,u),p=Z(i,u),S=W(i,u),A={};return(v,b)=>{var h,a;if(o(v)){const{requestId:s,arg:{endpointName:f,originalArgs:w}}=v.meta,y=t.endpointDefinitions[f],R=y==null?void 0:y.onQueryStarted;if(R){const l={},n=new Promise((m,d)=>{l.resolve=m,l.reject=d});n.catch(()=>{}),A[s]=l;const r=e.endpoints[f].select(y.type==="query"?w:s),c=b.dispatch((m,d,O)=>O),g={...b,getCacheEntry:()=>r(b.getState()),requestId:s,extra:c,updateCachedData:y.type==="query"?m=>b.dispatch(e.util.updateQueryData(f,w,m)):void 0,queryFulfilled:n};R(w,g)}}else if(S(v)){const{requestId:s,baseQueryMeta:f}=v.meta;(h=A[s])==null||h.resolve({data:v.payload,meta:f}),delete A[s]}else if(p(v)){const{requestId:s,rejectedWithValue:f,baseQueryMeta:w}=v.meta;(a=A[s])==null||a.reject({error:v.payload??v.error,isUnhandledError:!f,meta:w}),delete A[s]}}},jr=({api:e,context:{apiUid:t},reducerPath:i})=>(u,o)=>{e.util.resetApiState.match(u)&&o.dispatch(e.internalActions.middlewareRegistered(t)),typeof process<"u"},Tr=({api:e,queryThunk:t,internalState:i})=>{const u=`${e.reducerPath}/subscriptions`;let o=null,p=null;const{updateSubscriptionOptions:S,unsubscribeQueryResult:A}=e.internalActions,M=(s,f)=>{var y,R,l;if(S.match(f)){const{queryCacheKey:n,requestId:r,options:c}=f.payload;return(y=s==null?void 0:s[n])!=null&&y[r]&&(s[n][r]=c),!0}if(A.match(f)){const{queryCacheKey:n,requestId:r}=f.payload;return s[n]&&delete s[n][r],!0}if(e.internalActions.removeQueryResult.match(f))return delete s[f.payload.queryCacheKey],!0;if(t.pending.match(f)){const{meta:{arg:n,requestId:r}}=f,c=s[R=n.queryCacheKey]??(s[R]={});return c[`${r}_running`]={},n.subscribe&&(c[r]=n.subscriptionOptions??c[r]??{}),!0}let w=!1;if(t.fulfilled.match(f)||t.rejected.match(f)){const n=s[f.meta.arg.queryCacheKey]||{},r=`${f.meta.requestId}_running`;w||(w=!!n[r]),delete n[r]}if(t.rejected.match(f)){const{meta:{condition:n,arg:r,requestId:c}}=f;if(n&&r.subscribe){const g=s[l=r.queryCacheKey]??(s[l]={});g[c]=r.subscriptionOptions??g[c]??{},w=!0}}return w},v=()=>i.currentSubscriptions,a={getSubscriptions:v,getSubscriptionCount:s=>{const w=v()[s]??{};return Y(w)},isRequestSubscribed:(s,f)=>{var y;const w=v();return!!((y=w==null?void 0:w[s])!=null&&y[f])}};return(s,f)=>{if(o||(o=JSON.parse(JSON.stringify(i.currentSubscriptions))),e.util.resetApiState.match(s))return o=i.currentSubscriptions={},p=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(s))return[!1,a];const w=M(i.currentSubscriptions,s);let y=!0;if(w){p||(p=setTimeout(()=>{const n=JSON.parse(JSON.stringify(i.currentSubscriptions)),[,r]=Ze(o,()=>n);f.next(e.internalActions.subscriptionsUpdated(r)),o=n,p=null},500));const R=typeof s.type=="string"&&!!s.type.startsWith(u),l=t.rejected.match(s)&&s.meta.condition&&!!s.meta.arg.subscribe;y=!R&&!l}return[y,!1]}};function Cr(e){const{reducerPath:t,queryThunk:i,api:u,context:o}=e,{apiUid:p}=o,S={invalidateTags:x(`${t}/invalidateTags`)},A=h=>h.type.startsWith(`${t}/`),M=[jr,wr,Rr,Mr,Er,Or];return{middleware:h=>{let a=!1;const f={...e,internalState:{currentSubscriptions:{}},refetchQuery:b,isThisApiSliceAction:A},w=M.map(l=>l(f)),y=Tr(f),R=Ar(f);return l=>n=>{if(!Ye(n))return l(n);a||(a=!0,h.dispatch(u.internalActions.middlewareRegistered(p)));const r={...h,next:l},c=h.getState(),[g,m]=y(n,r,c);let d;if(g?d=l(n):d=m,h.getState()[t]&&(R(n,r,c),A(n)||o.hasRehydrationInfo(n)))for(let O of w)O(n,r,c);return d}},actions:S};function b(h,a,s={}){return i({type:"query",endpointName:h.endpointName,originalArgs:h.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:a,...s})}}function U(e,...t){return Object.assign(e,...t)}var Je=Symbol(),Ir=({createSelector:e=et}={})=>({name:Je,init(t,{baseQuery:i,tagTypes:u,reducerPath:o,serializeQueryArgs:p,keepUnusedDataFor:S,refetchOnMountOrArgChange:A,refetchOnFocus:M,refetchOnReconnect:v,invalidationBehavior:b},h){mt();const a=_=>(typeof process<"u",_);Object.assign(t,{reducerPath:o,endpoints:{},internalActions:{onOnline:Ie,onOffline:ct,onFocus:Ce,onFocusLost:ut},util:{}});const{queryThunk:s,mutationThunk:f,patchQueryData:w,updateQueryData:y,upsertQueryData:R,prefetch:l,buildMatchThunkActions:n}=yr({baseQuery:i,reducerPath:o,context:h,api:t,serializeQueryArgs:p,assertTagType:a}),{reducer:r,actions:c}=gr({context:h,queryThunk:s,mutationThunk:f,reducerPath:o,assertTagType:a,config:{refetchOnFocus:M,refetchOnReconnect:v,refetchOnMountOrArgChange:A,keepUnusedDataFor:S,reducerPath:o,invalidationBehavior:b}});U(t.util,{patchQueryData:w,updateQueryData:y,upsertQueryData:R,prefetch:l,resetApiState:c.resetApiState}),U(t.internalActions,c);const{middleware:g,actions:m}=Cr({reducerPath:o,context:h,queryThunk:s,mutationThunk:f,api:t,assertTagType:a});U(t.util,m),U(t,{reducer:r,middleware:g});const{buildQuerySelector:d,buildMutationSelector:O,selectInvalidatedBy:E,selectCachedArgsForQuery:j}=mr({serializeQueryArgs:p,reducerPath:o,createSelector:e});U(t.util,{selectInvalidatedBy:E,selectCachedArgsForQuery:j});const{buildInitiateQuery:T,buildInitiateMutation:C,getRunningMutationThunk:I,getRunningMutationsThunk:Q,getRunningQueriesThunk:P,getRunningQueryThunk:$}=hr({queryThunk:s,mutationThunk:f,api:t,serializeQueryArgs:p,context:h});return U(t.util,{getRunningMutationThunk:I,getRunningMutationsThunk:Q,getRunningQueryThunk:$,getRunningQueriesThunk:P}),{name:Je,injectEndpoint(_,F){var L;const D=t;(L=D.endpoints)[_]??(L[_]={}),at(F)?U(D.endpoints[_],{name:_,select:d(_,F),initiate:T(_,F)},n(s,_)):dr(F)&&U(D.endpoints[_],{name:_,select:O(),initiate:C(_)},n(f,_))}}}});function Ge(e,t,i,u){const o=q.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:i,endpointName:u}):e}),[e,t,i,u]),p=q.useRef(o);return q.useEffect(()=>{p.current.serialized!==o.serialized&&(p.current=o)},[o]),p.current.serialized===o.serialized?p.current.queryArgs:e}var ge=Symbol();function me(e){const t=q.useRef(e);return q.useEffect(()=>{ne(t.current,e)||(t.current=e)},[e]),ne(t.current,e)?t.current:e}var G=WeakMap?new WeakMap:void 0,qr=({endpointName:e,queryArgs:t})=>{let i="";const u=G==null?void 0:G.get(t);if(typeof u=="string")i=u;else{const o=JSON.stringify(t,(p,S)=>B(S)?Object.keys(S).sort().reduce((A,M)=>(A[M]=S[M],A),{}):S);B(t)&&(G==null||G.set(t,o)),i=o}return`${e}(${i})`},Dr=typeof window<"u"&&window.document&&window.document.createElement?q.useLayoutEffect:q.useEffect,Qr=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:st.pending}:e;function kr({api:e,moduleOptions:{batch:t,hooks:{useDispatch:i,useSelector:u,useStore:o},unstable__sideEffectsInRender:p,createSelector:S},serializeQueryArgs:A,context:M}){const v=p?f=>f():q.useEffect;return{buildQueryHooks:a,buildMutationHook:s,usePrefetch:h};function b(f,w,y){if(w!=null&&w.endpointName&&f.isUninitialized){const{endpointName:g}=w,m=M.endpointDefinitions[g];A({queryArgs:w.originalArgs,endpointDefinition:m,endpointName:g})===A({queryArgs:y,endpointDefinition:m,endpointName:g})&&(w=void 0)}let R=f.isSuccess?f.data:w==null?void 0:w.data;R===void 0&&(R=f.data);const l=R!==void 0,n=f.isLoading,r=!l&&n,c=f.isSuccess||n&&l;return{...f,data:R,currentData:f.data,isFetching:n,isLoading:r,isSuccess:c}}function h(f,w){const y=i(),R=me(w);return q.useCallback((l,n)=>y(e.util.prefetch(f,l,{...R,...n})),[f,y,R])}function a(f){const w=(l,{refetchOnReconnect:n,refetchOnFocus:r,refetchOnMountOrArgChange:c,skip:g=!1,pollingInterval:m=0,skipPollingIfUnfocused:d=!1}={})=>{const{initiate:O}=e.endpoints[f],E=i(),j=q.useRef();if(!j.current){const D=E(e.internalActions.internal_getRTKQSubscriptions());j.current=D}const T=Ge(g?H:l,qr,M.endpointDefinitions[f],f),C=me({refetchOnReconnect:n,refetchOnFocus:r,pollingInterval:m,skipPollingIfUnfocused:d}),I=q.useRef(!1),Q=q.useRef();let{queryCacheKey:P,requestId:$}=Q.current||{},_=!1;P&&$&&(_=j.current.isRequestSubscribed(P,$));const F=!_&&I.current;return v(()=>{I.current=_}),v(()=>{F&&(Q.current=void 0)},[F]),v(()=>{var k;const D=Q.current;if(typeof process<"u",T===H){D==null||D.unsubscribe(),Q.current=void 0;return}const L=(k=Q.current)==null?void 0:k.subscriptionOptions;if(!D||D.arg!==T){D==null||D.unsubscribe();const N=E(O(T,{subscriptionOptions:C,forceRefetch:c}));Q.current=N}else C!==L&&D.updateSubscriptionOptions(C)},[E,O,c,T,C,F]),q.useEffect(()=>()=>{var D;(D=Q.current)==null||D.unsubscribe(),Q.current=void 0},[]),q.useMemo(()=>({refetch:()=>{var D;if(!Q.current)throw new Error(z(38));return(D=Q.current)==null?void 0:D.refetch()}}),[])},y=({refetchOnReconnect:l,refetchOnFocus:n,pollingInterval:r=0,skipPollingIfUnfocused:c=!1}={})=>{const{initiate:g}=e.endpoints[f],m=i(),[d,O]=q.useState(ge),E=q.useRef(),j=me({refetchOnReconnect:l,refetchOnFocus:n,pollingInterval:r,skipPollingIfUnfocused:c});v(()=>{var Q,P;const I=(Q=E.current)==null?void 0:Q.subscriptionOptions;j!==I&&((P=E.current)==null||P.updateSubscriptionOptions(j))},[j]);const T=q.useRef(j);v(()=>{T.current=j},[j]);const C=q.useCallback(function(I,Q=!1){let P;return t(()=>{var $;($=E.current)==null||$.unsubscribe(),E.current=P=m(g(I,{subscriptionOptions:T.current,forceRefetch:!Q})),O(I)}),P},[m,g]);return q.useEffect(()=>()=>{var I;(I=E==null?void 0:E.current)==null||I.unsubscribe()},[]),q.useEffect(()=>{d!==ge&&!E.current&&C(d,!0)},[d,C]),q.useMemo(()=>[C,d],[C,d])},R=(l,{skip:n=!1,selectFromResult:r}={})=>{const{select:c}=e.endpoints[f],g=Ge(n?H:l,A,M.endpointDefinitions[f],f),m=q.useRef(),d=q.useMemo(()=>S([c(g),(C,I)=>I,C=>g],b,{memoizeOptions:{resultEqualityCheck:ne}}),[c,g]),O=q.useMemo(()=>r?S([d],r,{devModeChecks:{identityFunctionCheck:"never"}}):d,[d,r]),E=u(C=>O(C,m.current),ne),j=o(),T=d(j.getState(),m.current);return Dr(()=>{m.current=T},[T]),E};return{useQueryState:R,useQuerySubscription:w,useLazyQuerySubscription:y,useLazyQuery(l){const[n,r]=y(l),c=R(r,{...l,skip:r===ge}),g=q.useMemo(()=>({lastArg:r}),[r]);return q.useMemo(()=>[n,c,g],[n,c,g])},useQuery(l,n){const r=w(l,n),c=R(l,{selectFromResult:l===H||n!=null&&n.skip?void 0:Qr,...n}),{data:g,status:m,isLoading:d,isSuccess:O,isError:E,error:j}=c;return q.useDebugValue({data:g,status:m,isLoading:d,isSuccess:O,isError:E,error:j}),q.useMemo(()=>({...c,...r}),[c,r])}}}function s(f){return({selectFromResult:w,fixedCacheKey:y}={})=>{const{select:R,initiate:l}=e.endpoints[f],n=i(),[r,c]=q.useState();q.useEffect(()=>()=>{r!=null&&r.arg.fixedCacheKey||r==null||r.reset()},[r]);const g=q.useCallback(function(L){const k=n(l(L,{fixedCacheKey:y}));return c(k),k},[n,l,y]),{requestId:m}=r||{},d=q.useMemo(()=>R({fixedCacheKey:y,requestId:r==null?void 0:r.requestId}),[y,r,R]),O=q.useMemo(()=>w?S([d],w):d,[w,d]),E=u(O,ne),j=y==null?r==null?void 0:r.arg.originalArgs:void 0,T=q.useCallback(()=>{t(()=>{r&&c(void 0),y&&n(e.internalActions.removeMutationResult({requestId:m,fixedCacheKey:y}))})},[n,y,r,m]),{endpointName:C,data:I,status:Q,isLoading:P,isSuccess:$,isError:_,error:F}=E;q.useDebugValue({endpointName:C,data:I,status:Q,isLoading:P,isSuccess:$,isError:_,error:F});const D=q.useMemo(()=>({...E,originalArgs:j,reset:T}),[E,j,T]);return q.useMemo(()=>[g,D],[g,D])}}}function _r(e){return e.type==="query"}function Pr(e){return e.type==="mutation"}function be(e){return e.replace(e[0],e[0].toUpperCase())}function de(e,...t){return Object.assign(e,...t)}var $r=Symbol(),Fr=({batch:e=Rt,hooks:t={useDispatch:Mt,useSelector:At,useStore:Et},createSelector:i=et,unstable__sideEffectsInRender:u=!1,...o}={})=>({name:$r,init(p,{serializeQueryArgs:S},A){const M=p,{buildQueryHooks:v,buildMutationHook:b,usePrefetch:h}=kr({api:p,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:u,createSelector:i},serializeQueryArgs:S,context:A});return de(M,{usePrefetch:h}),de(A,{batch:e}),{injectEndpoint(a,s){if(_r(s)){const{useQuery:f,useLazyQuery:w,useLazyQuerySubscription:y,useQueryState:R,useQuerySubscription:l}=v(a);de(M.endpoints[a],{useQuery:f,useLazyQuery:w,useLazyQuerySubscription:y,useQueryState:R,useQuerySubscription:l}),p[`use${be(a)}Query`]=f,p[`useLazy${be(a)}Query`]=w}else if(Pr(s)){const f=b(a);de(M.endpoints[a],{useMutation:f}),p[`use${be(a)}Mutation`]=f}}}}}),Kr=br(Ir(),Fr());export{K as a,Wr as b,Kr as c,Hr as f,pe as i};
