import{d as ir}from"./deepmerge-gNZfItMb.js";import{i as Tr,t as br,c as Ar,a as $r}from"./lodash-es-PBfD76Wj.js";import{r as d}from"./react-eFnZCgGh.js";import{i as U}from"./react-fast-compare-lJ1TcC5A.js";import{h as zr}from"./hoist-non-react-statics-Ed-Y5ofb.js";function A(){return A=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(n[a]=u[a])}return n},A.apply(this,arguments)}function Rr(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}function K(n,t){if(n==null)return{};var u={},a=Object.keys(n),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(u[r]=n[r]);return u}function Ir(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Y=d.createContext(void 0);Y.displayName="FormikContext";var Kr=Y.Provider,Yr=Y.Consumer;function qr(){var n=d.useContext(Y);return n}var gr=function(t){return Array.isArray(t)&&t.length===0},g=function(t){return typeof t=="function"},G=function(t){return t!==null&&typeof t=="object"},Jr=function(t){return String(Math.floor(Number(t)))===t},er=function(t){return Object.prototype.toString.call(t)==="[object String]"},Cr=function(t){return d.Children.count(t)===0},nr=function(t){return G(t)&&g(t.then)};function S(n,t,u,a){a===void 0&&(a=0);for(var r=br(t);n&&a<r.length;)n=n[r[a++]];return a!==r.length&&!n||n===void 0?u:n}function L(n,t,u){for(var a=Ar(n),r=a,i=0,o=br(t);i<o.length-1;i++){var c=o[i],y=S(n,o.slice(0,i+1));if(y&&(G(y)||Array.isArray(y)))r=r[c]=Ar(y);else{var T=o[i+1];r=r[c]=Jr(T)&&Number(T)>=0?[]:{}}}return(i===0?n:r)[o[i]]===u?n:(u===void 0?delete r[o[i]]:r[o[i]]=u,i===0&&u===void 0&&delete a[o[i]],a)}function _r(n,t,u,a){u===void 0&&(u=new WeakMap),a===void 0&&(a={});for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],c=n[o];G(c)?u.get(c)||(u.set(c,!0),a[o]=Array.isArray(c)?[]:{},_r(c,t,u,a[o])):a[o]=t}return a}function Qr(n,t){switch(t.type){case"SET_VALUES":return A({},n,{values:t.payload});case"SET_TOUCHED":return A({},n,{touched:t.payload});case"SET_ERRORS":return U(n.errors,t.payload)?n:A({},n,{errors:t.payload});case"SET_STATUS":return A({},n,{status:t.payload});case"SET_ISSUBMITTING":return A({},n,{isSubmitting:t.payload});case"SET_ISVALIDATING":return A({},n,{isValidating:t.payload});case"SET_FIELD_VALUE":return A({},n,{values:L(n.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return A({},n,{touched:L(n.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return A({},n,{errors:L(n.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return A({},n,t.payload);case"SET_FORMIK_STATE":return t.payload(n);case"SUBMIT_ATTEMPT":return A({},n,{touched:_r(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return A({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return A({},n,{isSubmitting:!1});default:return n}}var N={},z={};function Xr(n){var t=n.validateOnChange,u=t===void 0?!0:t,a=n.validateOnBlur,r=a===void 0?!0:a,i=n.validateOnMount,o=i===void 0?!1:i,c=n.isInitialValid,y=n.enableReinitialize,T=y===void 0?!1:y,O=n.onSubmit,F=K(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=A({validateOnChange:u,validateOnBlur:r,validateOnMount:o,onSubmit:O},F),b=d.useRef(s.initialValues),w=d.useRef(s.initialErrors||N),C=d.useRef(s.initialTouched||z),M=d.useRef(s.initialStatus),_=d.useRef(!1),D=d.useRef({});d.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var kr=d.useState(0),Mr=kr[1],W=d.useRef({values:s.initialValues,errors:s.initialErrors||N,touched:s.initialTouched||z,status:s.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=W.current,m=d.useCallback(function(e){var l=W.current;W.current=Qr(l,e),l!==W.current&&Mr(function(f){return f+1})},[]),ur=d.useCallback(function(e,l){return new Promise(function(f,v){var p=s.validate(e,l);p==null?f(N):nr(p)?p.then(function(h){f(h||N)},function(h){v(h)}):f(p)})},[s.validate]),q=d.useCallback(function(e,l){var f=s.validationSchema,v=g(f)?f(l):f,p=l&&v.validateAt?v.validateAt(l,e):xr(e,v);return new Promise(function(h,I){p.then(function(){h(N)},function(V){V.name==="ValidationError"?h(Zr(V)):I(V)})})},[s.validationSchema]),or=d.useCallback(function(e,l){return new Promise(function(f){return f(D.current[e].validate(l))})},[]),lr=d.useCallback(function(e){var l=Object.keys(D.current).filter(function(v){return g(D.current[v].validate)}),f=l.length>0?l.map(function(v){return or(v,S(e,v))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(f).then(function(v){return v.reduce(function(p,h,I){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(p=L(p,l[I],h)),p},{})})},[or]),Lr=d.useCallback(function(e){return Promise.all([lr(e),s.validationSchema?q(e):{},s.validate?ur(e):{}]).then(function(l){var f=l[0],v=l[1],p=l[2],h=ir.all([f,v,p],{arrayMerge:re});return h})},[s.validate,s.validationSchema,lr,ur,q]),k=R(function(e){return e===void 0&&(e=E.values),m({type:"SET_ISVALIDATING",payload:!0}),Lr(e).then(function(l){return _.current&&(m({type:"SET_ISVALIDATING",payload:!1}),m({type:"SET_ERRORS",payload:l})),l})});d.useEffect(function(){o&&_.current===!0&&U(b.current,s.initialValues)&&k(b.current)},[o,k]);var j=d.useCallback(function(e){var l=e&&e.values?e.values:b.current,f=e&&e.errors?e.errors:w.current?w.current:s.initialErrors||{},v=e&&e.touched?e.touched:C.current?C.current:s.initialTouched||{},p=e&&e.status?e.status:M.current?M.current:s.initialStatus;b.current=l,w.current=f,C.current=v,M.current=p;var h=function(){m({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:f,touched:v,status:p,values:l,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(s.onReset){var I=s.onReset(E.values,Er);nr(I)?I.then(h):h()}else h()},[s.initialErrors,s.initialStatus,s.initialTouched,s.onReset]);d.useEffect(function(){_.current===!0&&!U(b.current,s.initialValues)&&T&&(b.current=s.initialValues,j(),o&&k(b.current))},[T,s.initialValues,j,o,k]),d.useEffect(function(){T&&_.current===!0&&!U(w.current,s.initialErrors)&&(w.current=s.initialErrors||N,m({type:"SET_ERRORS",payload:s.initialErrors||N}))},[T,s.initialErrors]),d.useEffect(function(){T&&_.current===!0&&!U(C.current,s.initialTouched)&&(C.current=s.initialTouched||z,m({type:"SET_TOUCHED",payload:s.initialTouched||z}))},[T,s.initialTouched]),d.useEffect(function(){T&&_.current===!0&&!U(M.current,s.initialStatus)&&(M.current=s.initialStatus,m({type:"SET_STATUS",payload:s.initialStatus}))},[T,s.initialStatus,s.initialTouched]);var cr=R(function(e){if(D.current[e]&&g(D.current[e].validate)){var l=S(E.values,e),f=D.current[e].validate(l);return nr(f)?(m({type:"SET_ISVALIDATING",payload:!0}),f.then(function(v){return v}).then(function(v){m({type:"SET_FIELD_ERROR",payload:{field:e,value:v}}),m({type:"SET_ISVALIDATING",payload:!1})})):(m({type:"SET_FIELD_ERROR",payload:{field:e,value:f}}),Promise.resolve(f))}else if(s.validationSchema)return m({type:"SET_ISVALIDATING",payload:!0}),q(E.values,e).then(function(v){return v}).then(function(v){m({type:"SET_FIELD_ERROR",payload:{field:e,value:S(v,e)}}),m({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),wr=d.useCallback(function(e,l){var f=l.validate;D.current[e]={validate:f}},[]),Vr=d.useCallback(function(e){delete D.current[e]},[]),sr=R(function(e,l){m({type:"SET_TOUCHED",payload:e});var f=l===void 0?r:l;return f?k(E.values):Promise.resolve()}),fr=d.useCallback(function(e){m({type:"SET_ERRORS",payload:e})},[]),dr=R(function(e,l){var f=g(e)?e(E.values):e;m({type:"SET_VALUES",payload:f});var v=l===void 0?u:l;return v?k(f):Promise.resolve()}),$=d.useCallback(function(e,l){m({type:"SET_FIELD_ERROR",payload:{field:e,value:l}})},[]),P=R(function(e,l,f){m({type:"SET_FIELD_VALUE",payload:{field:e,value:l}});var v=f===void 0?u:f;return v?k(L(E.values,e,l)):Promise.resolve()}),vr=d.useCallback(function(e,l){var f=l,v=e,p;if(!er(e)){e.persist&&e.persist();var h=e.target?e.target:e.currentTarget,I=h.type,V=h.name,x=h.id,rr=h.value,Gr=h.checked,fe=h.outerHTML,Sr=h.options,Wr=h.multiple;f=l||V||x,v=/number|range/.test(I)?(p=parseFloat(rr),isNaN(p)?"":p):/checkbox/.test(I)?ne(S(E.values,f),Gr,rr):Sr&&Wr?ee(Sr):rr}f&&P(f,v)},[P,E.values]),J=R(function(e){if(er(e))return function(l){return vr(l,e)};vr(e)}),H=R(function(e,l,f){l===void 0&&(l=!0),m({type:"SET_FIELD_TOUCHED",payload:{field:e,value:l}});var v=f===void 0?r:f;return v?k(E.values):Promise.resolve()}),pr=d.useCallback(function(e,l){e.persist&&e.persist();var f=e.target,v=f.name,p=f.id,h=f.outerHTML,I=l||v||p;H(I,!0)},[H]),Q=R(function(e){if(er(e))return function(l){return pr(l,e)};pr(e)}),hr=d.useCallback(function(e){g(e)?m({type:"SET_FORMIK_STATE",payload:e}):m({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),mr=d.useCallback(function(e){m({type:"SET_STATUS",payload:e})},[]),yr=d.useCallback(function(e){m({type:"SET_ISSUBMITTING",payload:e})},[]),X=R(function(){return m({type:"SUBMIT_ATTEMPT"}),k().then(function(e){var l=e instanceof Error,f=!l&&Object.keys(e).length===0;if(f){var v;try{if(v=Dr(),v===void 0)return}catch(p){throw p}return Promise.resolve(v).then(function(p){return _.current&&m({type:"SUBMIT_SUCCESS"}),p}).catch(function(p){if(_.current)throw m({type:"SUBMIT_FAILURE"}),p})}else if(_.current&&(m({type:"SUBMIT_FAILURE"}),l))throw e})}),Or=R(function(e){e&&e.preventDefault&&g(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&g(e.stopPropagation)&&e.stopPropagation(),X().catch(function(l){console.warn("Warning: An unhandled error was caught from submitForm()",l)})}),Er={resetForm:j,validateForm:k,validateField:cr,setErrors:fr,setFieldError:$,setFieldTouched:H,setFieldValue:P,setStatus:mr,setSubmitting:yr,setTouched:sr,setValues:dr,setFormikState:hr,submitForm:X},Dr=R(function(){return O(E.values,Er)}),Ur=R(function(e){e&&e.preventDefault&&g(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&g(e.stopPropagation)&&e.stopPropagation(),j()}),Nr=d.useCallback(function(e){return{value:S(E.values,e),error:S(E.errors,e),touched:!!S(E.touched,e),initialValue:S(b.current,e),initialTouched:!!S(C.current,e),initialError:S(w.current,e)}},[E.errors,E.touched,E.values]),Br=d.useCallback(function(e){return{setValue:function(f,v){return P(e,f,v)},setTouched:function(f,v){return H(e,f,v)},setError:function(f){return $(e,f)}}},[P,H,$]),Pr=d.useCallback(function(e){var l=G(e),f=l?e.name:e,v=S(E.values,f),p={name:f,value:v,onChange:J,onBlur:Q};if(l){var h=e.type,I=e.value,V=e.as,x=e.multiple;h==="checkbox"?I===void 0?p.checked=!!v:(p.checked=!!(Array.isArray(v)&&~v.indexOf(I)),p.value=I):h==="radio"?(p.checked=v===I,p.value=I):V==="select"&&x&&(p.value=p.value||[],p.multiple=!0)}return p},[Q,J,E.values]),Z=d.useMemo(function(){return!U(b.current,E.values)},[b.current,E.values]),Hr=d.useMemo(function(){return typeof c<"u"?Z?E.errors&&Object.keys(E.errors).length===0:c!==!1&&g(c)?c(s):c:E.errors&&Object.keys(E.errors).length===0},[c,Z,E.errors,s]),jr=A({},E,{initialValues:b.current,initialErrors:w.current,initialTouched:C.current,initialStatus:M.current,handleBlur:Q,handleChange:J,handleReset:Ur,handleSubmit:Or,resetForm:j,setErrors:fr,setFormikState:hr,setFieldTouched:H,setFieldValue:P,setFieldError:$,setStatus:mr,setSubmitting:yr,setTouched:sr,setValues:dr,submitForm:X,validateForm:k,validateField:cr,isValid:Hr,dirty:Z,unregisterField:Vr,registerField:wr,getFieldProps:Pr,getFieldMeta:Nr,getFieldHelpers:Br,validateOnBlur:r,validateOnChange:u,validateOnMount:o});return jr}function ye(n){var t=Xr(n),u=n.component,a=n.children,r=n.render,i=n.innerRef;return d.useImperativeHandle(i,function(){return t}),d.createElement(Kr,{value:t},u?d.createElement(u,t):r?r(t):a?g(a)?a(t):Cr(a)?null:d.Children.only(a):null)}function Zr(n){var t={};if(n.inner){if(n.inner.length===0)return L(t,n.path,n.message);for(var r=n.inner,u=Array.isArray(r),a=0,r=u?r:r[Symbol.iterator]();;){var i;if(u){if(a>=r.length)break;i=r[a++]}else{if(a=r.next(),a.done)break;i=a.value}var o=i;S(t,o.path)||(t=L(t,o.path,o.message))}}return t}function xr(n,t,u,a){u===void 0&&(u=!1);var r=ar(n);return t[u?"validateSync":"validate"](r,{abortEarly:!1,context:a||r})}function ar(n){var t=Array.isArray(n)?[]:{};for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)){var a=String(u);Array.isArray(n[a])===!0?t[a]=n[a].map(function(r){return Array.isArray(r)===!0||Tr(r)?ar(r):r!==""?r:void 0}):Tr(n[a])?t[a]=ar(n[a]):t[a]=n[a]!==""?n[a]:void 0}return t}function re(n,t,u){var a=n.slice();return t.forEach(function(i,o){if(typeof a[o]>"u"){var c=u.clone!==!1,y=c&&u.isMergeableObject(i);a[o]=y?ir(Array.isArray(i)?[]:{},i,u):i}else u.isMergeableObject(i)?a[o]=ir(n[o],i,u):n.indexOf(i)===-1&&a.push(i)}),a}function ee(n){return Array.from(n).filter(function(t){return t.selected}).map(function(t){return t.value})}function ne(n,t,u){if(typeof n=="boolean")return!!t;var a=[],r=!1,i=-1;if(Array.isArray(n))a=n,i=n.indexOf(u),r=i>=0;else if(!u||u=="true"||u=="false")return!!t;return t&&u&&!r?a.concat(u):r?a.slice(0,i).concat(a.slice(i+1)):a}var te=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect;function R(n){var t=d.useRef(n);return te(function(){t.current=n}),d.useCallback(function(){for(var u=arguments.length,a=new Array(u),r=0;r<u;r++)a[r]=arguments[r];return t.current.apply(void 0,a)},[])}var ie=d.forwardRef(function(n,t){var u=n.action,a=K(n,["action"]),r=u??"#",i=qr(),o=i.handleReset,c=i.handleSubmit;return d.createElement("form",A({onSubmit:c,ref:t,onReset:o,action:r},a))});ie.displayName="Form";function ae(n){var t=function(r){return d.createElement(Yr,null,function(i){return d.createElement(n,A({},r,{formik:i}))})},u=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return t.WrappedComponent=n,t.displayName="FormikConnect("+u+")",zr(t,n)}var ue=function(t,u,a){var r=B(t),i=r[u];return r.splice(u,1),r.splice(a,0,i),r},oe=function(t,u,a){var r=B(t),i=r[u];return r[u]=r[a],r[a]=i,r},tr=function(t,u,a){var r=B(t);return r.splice(u,0,a),r},le=function(t,u,a){var r=B(t);return r[u]=a,r},B=function(t){if(t){if(Array.isArray(t))return[].concat(t);var u=Object.keys(t).map(function(a){return parseInt(a)}).reduce(function(a,r){return r>a?r:a},0);return Array.from(A({},t,{length:u+1}))}else return[]},Fr=function(t,u){var a=typeof t=="function"?t:u;return function(r){if(Array.isArray(r)||G(r)){var i=B(r);return a(i)}return r}},ce=function(n){Rr(t,n);function t(a){var r;return r=n.call(this,a)||this,r.updateArrayField=function(i,o,c){var y=r.props,T=y.name,O=y.formik.setFormikState;O(function(F){var s=Fr(c,i),b=Fr(o,i),w=L(F.values,T,i(S(F.values,T))),C=c?s(S(F.errors,T)):void 0,M=o?b(S(F.touched,T)):void 0;return gr(C)&&(C=void 0),gr(M)&&(M=void 0),A({},F,{values:w,errors:c?L(F.errors,T,C):F.errors,touched:o?L(F.touched,T,M):F.touched})})},r.push=function(i){return r.updateArrayField(function(o){return[].concat(B(o),[$r(i)])},!1,!1)},r.handlePush=function(i){return function(){return r.push(i)}},r.swap=function(i,o){return r.updateArrayField(function(c){return oe(c,i,o)},!0,!0)},r.handleSwap=function(i,o){return function(){return r.swap(i,o)}},r.move=function(i,o){return r.updateArrayField(function(c){return ue(c,i,o)},!0,!0)},r.handleMove=function(i,o){return function(){return r.move(i,o)}},r.insert=function(i,o){return r.updateArrayField(function(c){return tr(c,i,o)},function(c){return tr(c,i,null)},function(c){return tr(c,i,null)})},r.handleInsert=function(i,o){return function(){return r.insert(i,o)}},r.replace=function(i,o){return r.updateArrayField(function(c){return le(c,i,o)},!1,!1)},r.handleReplace=function(i,o){return function(){return r.replace(i,o)}},r.unshift=function(i){var o=-1;return r.updateArrayField(function(c){var y=c?[i].concat(c):[i];return o=y.length,y},function(c){return c?[null].concat(c):[null]},function(c){return c?[null].concat(c):[null]}),o},r.handleUnshift=function(i){return function(){return r.unshift(i)}},r.handleRemove=function(i){return function(){return r.remove(i)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(Ir(r)),r.pop=r.pop.bind(Ir(r)),r}var u=t.prototype;return u.componentDidUpdate=function(r){this.props.validateOnChange&&this.props.formik.validateOnChange&&!U(S(r.formik.values,r.name),S(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},u.remove=function(r){var i;return this.updateArrayField(function(o){var c=o?B(o):[];return i||(i=c[r]),g(c.splice)&&c.splice(r,1),g(c.every)&&c.every(function(y){return y===void 0})?[]:c},!0,!0),i},u.pop=function(){var r;return this.updateArrayField(function(i){var o=i.slice();return r||(r=o&&o.pop&&o.pop()),o},!0,!0),r},u.render=function(){var r={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,c=i.render,y=i.children,T=i.name,O=i.formik,F=K(O,["validate","validationSchema"]),s=A({},r,{form:F,name:T});return o?d.createElement(o,s):c?c(s):y?typeof y=="function"?y(s):Cr(y)?null:d.Children.only(y):null},t}(d.Component);ce.defaultProps={validateOnChange:!0};var se=function(n){Rr(t,n);function t(){return n.apply(this,arguments)||this}var u=t.prototype;return u.shouldComponentUpdate=function(r){return S(this.props.formik.errors,this.props.name)!==S(r.formik.errors,this.props.name)||S(this.props.formik.touched,this.props.name)!==S(r.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(r).length},u.render=function(){var r=this.props,i=r.component,o=r.formik,c=r.render,y=r.children,T=r.name,O=K(r,["component","formik","render","children","name"]),F=S(o.touched,T),s=S(o.errors,T);return F&&s?c?g(c)?c(s):null:y?g(y)?y(s):null:i?d.createElement(i,O,s):s:null},t}(d.Component),Ee=ae(se);export{Ee as E,ye as F,ie as a};
